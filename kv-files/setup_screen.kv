#:import FadeTransition kivy.uix.screenmanager.FadeTransition
#:import SlideTransition kivy.uix.screenmanager.SlideTransition

<SetupScreen@Screen>:
    FitImage:
        id: setup_bg
        source: app.bg_paths[0]
        mipmap: True

    # Timer Label Preview
    MDLabel:
        text: '25:00'
        halign: 'center'
        theme_text_color: "Custom"
        text_color: (1, 1, 1, 1)
        pos_hint: {'center_x': 0.5, 'center_y': 0.5}
        adaptive_height: True
        font_style: 'Display'
        role: 'large'
        opacity: 0.4

    # Select Setup -------------------------------------------------------
    MDButton:
        style: 'outlined'

        pos_hint: {'center_x': 0.5, 'center_y': 0.5}

        size_hint: None, None
        size: 1200, 800
        opacity: 0

        on_press:
            app.root.transition = FadeTransition(duration=0.5)

        on_release:
            app.root.get_screen('dashboard').ids.dashboard_bg.source = app.root.get_screen('setup').ids.setup_bg.source
            app.root.current = 'dashboard'
            app.root.transition = SlideTransition(duration=0.25)
            Window.borderless=0

    # Previous Setup -------------------------------------------------------
    MDIconButton:
        id: previous
        icon: 'chevron-left'

        pos_hint: {'center_x':0.05, 'center_y':0.5}

        style: 'standard'
        opacity: 0.5

        theme_bg_color: 'Custom'
        md_bg_color: 0, 0, 0, 0.5

        theme_icon_color: 'Custom'
        icon_color: 1, 1, 1, 1

        on_press:
            app.manage_background('prev')


    # Next Setup -------------------------------------------------------
    MDIconButton:
        id: next
        icon: 'chevron-right'

        pos_hint: {'center_x':0.95, 'center_y':0.5}

        style: 'standard'
        opacity: 0.5

        theme_bg_color: 'Custom'
        md_bg_color: 0, 0, 0, 0.5

        theme_icon_color: 'Custom'
        icon_color: 1, 1, 1, 1

        on_press:
            app.manage_background('next')